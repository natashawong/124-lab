(this.webpackJsonplab2=this.webpackJsonplab2||[]).push([[0],{47:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(18),i=n.n(a),c=n(41),o=n.n(c),r=(n(47),n(26)),l=n(15),d=n(5),s="SHOW_ALL",b="HIDE_COMPLETED",u="ADD",j="EDIT",m="BASE",O=n(13);function h(e){var t=e.data.filter((function(t){return t.list===e.currList})),n=e.filterType===b?t.filter((function(e){return!e.completed})):t,i=Object(a.useState)({}),c=Object(l.a)(i,2),o=(c[0],c[1]),s=Object(a.useState)({}),u=Object(l.a)(s,2),j=(u[0],u[1]),m=Object(a.useState)({}),h=Object(l.a)(m,2),p=(h[0],h[1]);function f(t){return function(n){o((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.target.name,n.target.value))})),e.onEditData(n.target.value,t)}}function v(t){return function(n){p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.target.name,n.target.value))})),e.onChangePriority(n.target.value,t)}}return Object(O.jsxs)("div",{children:[n.map((function(t,n){return Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"list",children:[Object(O.jsxs)("div",{className:"checkboxAndInputContainer",children:[Object(O.jsx)("input",{type:"checkbox",id:t.id,name:n,disabled:"EDIT"===e.mode,checked:t.completed,onChange:(a=t.id,function(t){var n=t.target.checked;j((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.target.name,t.target.checked))})),e.onSetData(n,a)}),class:"regular-checkbox"}),"EDIT"===e.mode||"ADD"===e.mode&&t.id===e.lastId?Object(O.jsx)("input",{type:"text",id:t.id,name:n,value:t.todo,onChange:f(t.id),className:"todoTextInput"}):Object(O.jsx)("input",{type:"text",id:t.id,name:n,value:t.todo,readOnly:!0,className:"todoTextInput",style:{outline:"none"}})]}),Object(O.jsxs)("select",{name:"listDropdown",className:"listDropdown",onChange:v(t.id),children:[Object(O.jsx)("option",{"aria-label":"high priority",value:"1",selected:"1"===t.priority,children:"High"}),Object(O.jsx)("option",{"aria-label":"medium priority",value:"2",selected:"2"===t.priority,children:"Medium"}),Object(O.jsx)("option",{"aria-label":"low priority",value:"3",selected:"3"===t.priority,children:"Low"})]})]})},n)});var a})),Object(O.jsxs)("div",{className:"footer",children:[n.filter((function(e){return e.completed})).length>0&&Object(O.jsxs)("div",{children:[e.onShowAll,Object(O.jsx)("button",{"aria-label":"Delete completed items",className:"button deleteCompleted",onClick:function(){for(var t=n.filter((function(e){return e.completed})),a=0;a<t.length;a++)e.onRemoveTodo(t[a].id)},children:"Delete Completed"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{"aria-label":"Delete entire list",className:"button deleteCompleted",onClick:function(){for(var t=0;t<n.length;t++)e.onRemoveTodo(n[t].id)},children:"Delete List"})})]})]})}function p(e){var t,n=Object(a.useState)(e.title),i=Object(l.a)(n,2),c=(i[0],i[1]),o="tab-list-item";return e.title===e.selectedTab&&(o+=" tab-list-active"),Object(O.jsx)("div",{className:"tabs",children:Object(O.jsx)("button",{onClick:function(){e.onSelectTab(e.title)},className:"invisibleButton",children:Object(O.jsx)("input",{type:"text",id:e.key,name:e.key,value:e.title,onChange:(t=e.index,function(n){c((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.target.name,n.target.value))})),e.onEditTabTitle(n.target.value,t)}),className:o,disabled:"EDIT"!==e.mode})})})}function f(e){for(var t=[],n=0;n<e.data.length;n++)t.push({list:e.data[n].list,id:e.data[n].id});for(var a=new Set,i=[],c=0;c<t.length;c++)a.has(t[c].list)||i.push(t[c]),a.add(t[c].list);return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"tab-list",children:[i.map((function(t,n){return Object(O.jsx)("div",{children:Object(O.jsx)(p,{onEditTabTitle:function(t,n){return e.onEditTabTitle(t,n)},onSelectTab:function(t){return e.onSelectTab(t)},index:t.id,title:t.list,selectedTab:e.currTab,mode:e.mode},n)})})),Object(O.jsx)("button",{"aria-label":"Add a new tab",className:"plus-tab",onClick:e.onNewTab,children:"+"})]})})}var v=n(31),x=n(42),g=n(39);n(51);v.a.initializeApp({apiKey:"AIzaSyATi5uqr6dkf4iTvqfPHndGwtHXz0O6O-s",authDomain:"lab-90286.firebaseapp.com",databaseURL:"https://lab-90286-default-rtdb.firebaseio.com",projectId:"lab-90286",storageBucket:"lab-90286.appspot.com",messagingSenderId:"782831139249",appId:"1:782831139249:web:2d846e81abb155eeece590",measurementId:"G-YTZ7W2BRD9"});var T=v.a.firestore();var y=function(){var e=T.collection("todo_list"),t=Object(a.useState)(e),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)([]),d=Object(l.a)(o,2),p=d[0],y=d[1],S=Object(a.useState)(""),C=Object(l.a)(S,2),N=C[0],D=C[1],w=Object(a.useState)(s),k=Object(l.a)(w,2),E=k[0],I=k[1],A=Object(a.useState)(m),L=Object(l.a)(A,2),B=L[0],F=L[1],H=Object(x.a)(e),P=Object(l.a)(H,3),R=P[0],z=(P[1],P[2],Object(a.useState)("")),M=Object(l.a)(z,2),_=M[0],q=M[1];function G(t){e.doc(t).delete()}return Object(a.useEffect)((function(){var e=[];R&&(e=R.docs.map((function(e){return Object(r.a)({},e.data())})),y(e),""===_&&q(e[0].list))}),[_,R]),Object(O.jsxs)("div",{children:[i.loading&&Object(O.jsx)("h1",{children:"Loading"}),p&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("div",{className:"mainDropdownContainer",children:Object(O.jsxs)("select",{name:"dropdown",className:"mainDropdown",onChange:function(t){var n=t.target.value,a="creationdate"===n?"desc":"asc",i=e.orderBy(n,a);c(i)},disabled:B===j,children:[Object(O.jsx)("option",{"aria-label":"Sort by priority",value:"priority",children:"Sort by priority"}),Object(O.jsx)("option",{"aria-label":"Sort by name",value:"todo",children:"Sort by name"}),Object(O.jsx)("option",{"aria-label":"Sort by creation date",value:"creationdate",children:"Sort by creation date"})]})}),Object(O.jsx)("div",{className:"controlButtonContainer",children:B===u||B===j?Object(O.jsx)("button",{"aria-label":"Finish editing",className:"button doneButton",onClick:function(){p.length>0&&""===p[p.length-1].todo&&G(N),F(m)},children:"Done"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{"aria-label":"Edit",className:"button editButton",onClick:function(){F(j)},children:"Edit"}),Object(O.jsx)("button",{"aria-label":"Add a new todo",className:"button plusButton",onClick:function(){var t=Object(g.a)(),n=v.a.firestore.Timestamp.now();e.doc(t).set({id:t,todo:"",completed:!1,priority:2,creationdate:n,list:_}),D(t),F(u)},children:"+"})]})})]}),Object(O.jsx)("div",{className:"body-container",children:Object(O.jsx)("div",{className:"title",children:Object(O.jsx)("h1",{className:"underline",children:"To-do list"})})}),Object(O.jsx)(f,{data:p,currTab:_,onNewTab:function(){var t=Object(g.a)(),n=v.a.firestore.Timestamp.now();e.doc(t).set({id:t,todo:"First Todo",completed:!1,priority:2,creationdate:n,list:"List"+t.slice(20,25)}),D(t),F(u)},onSelectTab:function(e){return q(e)},onEditTabTitle:function(t,n){return function(t,n){var a={id:n,list:t};e.doc(n).update(a),q(t)}(t,n)},mode:B}),Object(O.jsx)(h,{data:p,currList:_,filterType:E,onSetData:function(t,n){!function(t,n){var a={id:n,completed:t};e.doc(n).update(a)}(t,n)},onEditData:function(t,n){!function(t,n){var a={id:n,todo:t};e.doc(n).update(a)}(t,n)},onChangePriority:function(t,n){!function(t,n){var a={id:n,priority:t};e.doc(n).update(a)}(t,n)},onShowAll:Object(O.jsx)(O.Fragment,{children:E===b?Object(O.jsx)("button",{"aria-label":"Show all items",className:"button showCompleted",onClick:function(){return I(s)},children:"Show All"}):Object(O.jsx)("button",{"aria-label":"Hide completed items",className:"button showCompleted",onClick:function(){return I(b)},children:"Hide Completed"})}),onRemoveTodo:function(e){G(e)},mode:B,lastId:N})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root")),S()}},[[52,1,2]]]);
//# sourceMappingURL=main.d14dae53.chunk.js.map