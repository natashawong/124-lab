(this.webpackJsonplab2=this.webpackJsonplab2||[]).push([[0],{42:function(e,t,n){},49:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n.n(a),c=n(43),o=n.n(c),s=(n(49),n(14)),l=n(27),r="SHOW_ALL",d="HIDE_COMPLETED",u="ADD",b="EDIT",j="BASE",h="LOGIN",O="SIGNUP",m=n(10);function p(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(""),r=Object(s.a)(o,2),d=r[0],u=r[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),h=j[0],p=j[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"login-title",children:Object(m.jsx)("h1",{children:"Log In"})}),Object(m.jsxs)("div",{className:"login-details",children:[Object(m.jsx)("h3",{children:"Email Address"}),Object(m.jsx)("input",{type:"text",value:i,onChange:function(e){c(e.target.value)},className:"usernameInput"},"loginEmail"),Object(m.jsx)("h3",{children:"Password"}),Object(m.jsx)("input",{type:"text",value:d,onChange:function(e){u(e.target.value)},className:"passwordInput"},"loginPassword")]}),Object(m.jsxs)("div",{className:"login-buttons",children:[Object(m.jsx)("button",{"aria-label":"Click to login",className:"login-button",onClick:function(){l.a.auth().signInWithEmailAndPassword(i,d).then((function(){console.log("Successful log in")})).catch((function(e){var t=e.message;p(t)}))},children:"Log In"}),Object(m.jsx)("button",{"aria-label":"Click to Sign up",className:"signup-button",onClick:function(){return e.changeScreen(O)},children:"Sign Up"})]}),""!==h&&Object(m.jsx)("p",{children:h})]})}function f(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(""),r=Object(s.a)(o,2),d=r[0],u=r[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),O=j[0],p=j[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"login-title",children:Object(m.jsx)("h1",{children:"Create a new account"})}),Object(m.jsxs)("div",{className:"login-details",children:[Object(m.jsx)("h3",{children:"Email Address"}),Object(m.jsx)("input",{type:"text",value:i,onChange:function(e){c(e.target.value)},className:"usernameInput"},"signupEmail"),Object(m.jsx)("h3",{children:"Password"}),Object(m.jsx)("input",{type:"text",value:d,onChange:function(e){u(e.target.value)},className:"passwordInput"},"signupPassword")]}),Object(m.jsxs)("div",{className:"login-buttons",children:[Object(m.jsx)("button",{"aria-label":"Click to login",className:"login-button",onClick:function(){l.a.auth().createUserWithEmailAndPassword(i,d).then((function(){console.log("Successful sign up")})).catch((function(e){var t=e.message;p(t)}))},children:"Sign Up"}),Object(m.jsx)("button",{"aria-label":"Click to Sign up",className:"signup-button",onClick:function(){return e.changeScreen(h)},children:"Log In"})]}),""!==O&&Object(m.jsx)("p",{children:O})]})}function x(){var e=Object(a.useState)(h),t=Object(s.a)(e,2),n=t[0],i=t[1];return n===O?Object(m.jsx)(f,{changeScreen:function(e){return i(e)}}):Object(m.jsx)(p,{changeScreen:function(e){return i(e)}})}var g=n(26),v=n(5);function S(e){var t=e.data.filter((function(t){return t.list===e.currList})),n=e.filterType===d?t.filter((function(e){return!e.completed})):t,i=Object(a.useState)({}),c=Object(s.a)(i,2),o=(c[0],c[1]),l=Object(a.useState)({}),r=Object(s.a)(l,2),u=(r[0],r[1]),b=Object(a.useState)({}),j=Object(s.a)(b,2),h=(j[0],j[1]),O=Object(a.useState)(""),p=Object(s.a)(O,2),f=p[0],x=p[1];function S(t){return function(n){o((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},n.target.name,n.target.value))})),e.onEditData(n.target.value,t)}}function y(t){return function(n){h((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},n.target.name,n.target.value))})),e.onChangePriority(n.target.value,t)}}return Object(m.jsxs)("div",{children:[n.map((function(t,n){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"list",children:[Object(m.jsxs)("div",{className:"checkboxAndInputContainer",children:[Object(m.jsx)("input",{type:"checkbox",id:t.id,name:n,disabled:"EDIT"===e.mode,checked:t.completed,onChange:(a=t.id,function(t){var n=t.target.checked;u((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},t.target.name,t.target.checked))})),e.onSetData(n,a)}),class:"regular-checkbox"}),"EDIT"===e.mode||"ADD"===e.mode&&t.id===e.lastId?Object(m.jsx)("input",{type:"text",id:t.id,name:n,value:t.todo,onChange:S(t.id),className:"todoTextInput"}):Object(m.jsx)("input",{type:"text",id:t.id,name:n,value:t.todo,readOnly:!0,className:"todoTextInput",style:{outline:"none"}})]}),Object(m.jsxs)("select",{name:"listDropdown",className:"listDropdown",onChange:y(t.id),children:[Object(m.jsx)("option",{"aria-label":"high priority",value:"1",selected:"1"===t.priority,children:"High"}),Object(m.jsx)("option",{"aria-label":"medium priority",value:"2",selected:"2"===t.priority,children:"Medium"}),Object(m.jsx)("option",{"aria-label":"low priority",value:"3",selected:"3"===t.priority,children:"Low"})]})]})},n)});var a})),Object(m.jsx)("div",{className:"footer",children:Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[n.filter((function(e){return e.completed})).length>0&&Object(m.jsxs)("div",{children:[e.onShowAll,Object(m.jsx)("button",{"aria-label":"Delete completed items",className:"button deleteCompleted",onClick:function(){for(var t=n.filter((function(e){return e.completed})),a=0;a<t.length;a++)e.onRemoveTodo(t[a].id)},children:"Delete Completed"})]}),Object(m.jsx)("button",{"aria-label":"Delete entire list",className:"button deleteCompleted",onClick:function(){for(var t=0;t<n.length;t++)e.onRemoveTodo(n[t].id)},children:"Delete List"})]}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(m.jsx)("h4",{children:"Share this list by typing in a person's email (one at a time): "}),Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(m.jsx)("input",{type:"text",value:f,onChange:function(e){x(e.target.value)},className:"listPermsInput"}),Object(m.jsx)("button",{"aria-label":"Share list",className:"button shareList",onClick:function(){e.editShareWith(f),x("")},children:"Share List"})]})]})]})})]})}function y(e){var t,n=Object(a.useState)(e.title),i=Object(s.a)(n,2),c=(i[0],i[1]),o="tab-list-item";return e.title===e.selectedTab&&(o+=" tab-list-active"),Object(m.jsx)("div",{className:"tabs",children:Object(m.jsx)("button",{onClick:function(){e.onSelectTab(e.title)},className:"invisibleButton",children:Object(m.jsx)("input",{type:"text",id:e.key,name:e.key,value:e.title,onChange:(t=e.index,function(n){c((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(v.a)({},n.target.name,n.target.value))})),e.onEditTabTitle(n.target.value,t)}),className:o,disabled:"EDIT"!==e.mode})})})}function N(e){for(var t=[],n=0;n<e.data.length;n++)t.push({list:e.data[n].list,id:e.data[n].id});for(var a=new Set,i=[],c=0;c<t.length;c++)a.has(t[c].list)||i.push(t[c]),a.add(t[c].list);return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"tab-list",children:[i.map((function(t,n){return Object(m.jsx)("div",{children:Object(m.jsx)(y,{onEditTabTitle:function(t,n){return e.onEditTabTitle(t,n)},onSelectTab:function(t){return e.onSelectTab(t)},index:t.id,title:t.list,selectedTab:e.currTab,mode:e.mode},n)})})),Object(m.jsx)("button",{"aria-label":"Add a new tab",className:"plus-tab",onClick:e.onNewTab,children:"+"})]})})}var C=n(44),T=n(40),w=n(36);n(42);l.a.initializeApp({apiKey:"AIzaSyATi5uqr6dkf4iTvqfPHndGwtHXz0O6O-s",authDomain:"lab-90286.firebaseapp.com",databaseURL:"https://lab-90286-default-rtdb.firebaseio.com",projectId:"lab-90286",storageBucket:"lab-90286.appspot.com",messagingSenderId:"782831139249",appId:"1:782831139249:web:2d846e81abb155eeece590",measurementId:"G-YTZ7W2BRD9"});var k=l.a.firestore();function D(){var e=k.collection("todo_list"),t=Object(a.useState)(e),n=Object(s.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)([]),h=Object(s.a)(o,2),O=h[0],p=h[1],f=Object(a.useState)(""),x=Object(s.a)(f,2),v=x[0],y=x[1],D=Object(a.useState)(r),I=Object(s.a)(D,2),E=I[0],L=I[1],A=Object(a.useState)(j),P=Object(s.a)(A,2),B=P[0],F=P[1],W=Object(C.a)(e),H=Object(s.a)(W,3),R=H[0],U=(H[1],H[2],Object(a.useState)("")),G=Object(s.a)(U,2),z=G[0],M=G[1],_=l.a.auth(),q=Object(w.a)(_),J=Object(s.a)(q,3),K=J[0],X=(J[1],J[2],Object(a.useState)([])),Y=Object(s.a)(X,2),Z=Y[0],Q=Y[1];function V(t){e.doc(t).delete()}return Object(a.useEffect)((function(){var e=[];if(R){var t=(e=R.docs.map((function(e){return Object(g.a)({},e.data())}))).filter((function(e){return e.sharedWith.includes(K.email)}));p(t);var n=t.length>0?t[0].sharedWith:[];Q(n),""===z&&M(e[0].list)}}),[z,K.email,R]),Object(m.jsxs)("div",{children:[i.loading&&Object(m.jsx)("h1",{children:"Loading..."}),O&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"userInfo",children:[Object(m.jsx)("h3",{children:K.email}),Object(m.jsx)("button",{type:"button",className:"button doneButton",style:{width:80},onClick:function(){return _.signOut()},children:"Log out"})]}),Object(m.jsx)("div",{className:"body-container",children:Object(m.jsx)("div",{className:"title",children:Object(m.jsxs)("h1",{className:"underline",children:[K.email.substring(0,K.email.indexOf("@")),"'s To-do list"]})})}),Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("div",{className:"mainDropdownContainer",children:Object(m.jsxs)("select",{name:"dropdown",className:"mainDropdown",onChange:function(t){var n=t.target.value,a="creationdate"===n?"desc":"asc",i=e.orderBy(n,a);c(i)},disabled:B===b,children:[Object(m.jsx)("option",{"aria-label":"Sort by priority",value:"priority",children:"Sort by priority"}),Object(m.jsx)("option",{"aria-label":"Sort by name",value:"todo",children:"Sort by name"}),Object(m.jsx)("option",{"aria-label":"Sort by creation date",value:"creationdate",children:"Sort by creation date"})]})}),Object(m.jsx)("div",{className:"controlButtonContainer",children:B===u||B===b?Object(m.jsx)("button",{"aria-label":"Finish editing",className:"button doneButton",onClick:function(){O.length>0&&""===O[O.length-1].todo&&V(v),F(j)},children:"Done"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{"aria-label":"Edit",className:"button editButton",onClick:function(){F(b)},children:"Edit"}),Object(m.jsx)("button",{"aria-label":"Add a new todo",className:"button plusButton",onClick:function(){var t=Object(T.a)(),n=l.a.firestore.Timestamp.now();e.doc(t).set({id:t,todo:"",completed:!1,priority:2,creationdate:n,list:z,sharedWith:Z}),y(t),F(u)},children:"+"})]})})]}),Object(m.jsx)(N,{data:O,currTab:z,onNewTab:function(){var t=Object(T.a)(),n=l.a.firestore.Timestamp.now();e.doc(t).set({id:t,todo:"First Todo",completed:!1,priority:2,creationdate:n,list:"List"+t.slice(20,25),sharedWith:[K.email]}),y(t),F(u)},onSelectTab:function(e){return M(e)},onEditTabTitle:function(t,n){return function(t,n){var a={id:n,list:t};e.doc(n).update(a),M(t)}(t,n)},mode:B}),Object(m.jsx)(S,{data:O,currList:z,filterType:E,onSetData:function(t,n){!function(t,n){var a={id:n,completed:t};e.doc(n).update(a)}(t,n)},onEditData:function(t,n){!function(t,n){var a={id:n,todo:t};e.doc(n).update(a)}(t,n)},onChangePriority:function(t,n){!function(t,n){var a={id:n,priority:t};e.doc(n).update(a)}(t,n)},onShowAll:Object(m.jsx)(m.Fragment,{children:E===d?Object(m.jsx)("button",{"aria-label":"Show all items",className:"button showCompleted",onClick:function(){return L(r)},children:"Show All"}):Object(m.jsx)("button",{"aria-label":"Hide completed items",className:"button showCompleted",onClick:function(){return L(d)},children:"Hide Completed"})}),onRemoveTodo:function(e){V(e)},editShareWith:function(t,n){!function(t){var n=Z;n.push(t),Q(n);var a={sharedWith:Z};O.filter((function(e){return e.list===z})).forEach((function(t){return e.doc(t.id).update(a)}))}(t)},mode:B,lastId:v})]})]})}var I=function(){var e=l.a.auth(),t=Object(w.a)(e),n=Object(s.a)(t,3),a=n[0],i=n[1];function c(){return i?Object(m.jsx)("h1",{children:"Loading..."}):a?Object(m.jsx)(D,{}):Object(m.jsx)(x,{})}return n[2],Object(m.jsx)(c,{})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),E()}},[[53,1,2]]]);
//# sourceMappingURL=main.9dff507d.chunk.js.map